<section>
  <div class="row justify-content-md-center h-100 " style="margin-top: 4rem !important;">
    <div class="col-md-6">
      <div class="card-wrapper">
        <div class="card fat">
          <div class="card-body">
            <h4 class="card-title">Register</h4>
            <form [formGroup]='registerForm' (submit)='onRegister()'>
              <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" formControlName="firstName" class="form-control" name="firstName" placeholder="Enter First Name">
                <div *ngIf="registerForm.controls.firstName.invalid && (registerForm.controls.firstName.dirty || registerForm.controls.firstName.touched)">
                  <label class="error-message" *ngIf="registerForm.controls.firstName.errors.required">First name is required</label>
                  <li class="error-message" *ngIf="registerForm.controls.firstName.errors.minlength">First Name must be at least 3 characters long.</li>
                  <li class="error-message" *ngIf="registerForm.controls.firstName.errors.maxlength">First Name can not be more than 30 characters long.</li>
                  <li class="error-message" *ngIf="registerForm.controls.firstName.errors.pattern">First Name is not valid.</li>
                </div>
              </div>
              <div class="form-group">
                <label for="lastname">Last Name</label>
                <input type="text" formControlName="lastName" class="form-control" name="lastName" placeholder="Enter Last Name">
                <div *ngIf="registerForm.controls.lastName.invalid && (registerForm.controls.lastName.dirty || registerForm.controls.lastName.touched)">
                  <label class="error-message" *ngIf="registerForm.controls.lastName.errors.required">Last name is required</label>
                  <li class="error-message" *ngIf="registerForm.controls.lastName.errors.minlength">Last Name must be at least 3 characters long.</li>
                  <li class="error-message" *ngIf="registerForm.controls.lastName.errors.maxlength">Last Name can not be more than 30 characters long.</li>
                  <li class="error-message" *ngIf="registerForm.controls.lastName.errors.pattern">Last Name is not valid.</li>
                </div>
              </div>
              <div class="form-group">
                <label for="userName">User Name</label>
                <input type="text" formControlName="userName" class="form-control" name="userName" placeholder="Enter User Name" [ngClass]="{loading: (registerForm.controls.userName.pending) }">
                <div *ngIf="registerForm.controls.userName.invalid && (registerForm.controls.userName.dirty || 
                registerForm.controls.userName.touched)">
                  <label class="error-message" *ngIf="registerForm.controls.userName.errors.required">User Name is required.</label>
                  <label class="error-message" *ngIf="registerForm.controls.userName.errors.pattern">User Name is not valid.</label>
                  <label class="error-message" *ngIf="registerForm.controls.userName.errors.minlength">User Name must be at least 3 characters long.</label>
                  <label class="error-message" *ngIf="registerForm.controls.userName.errors.maxlength">User Name can not be more than 30 characters long.</label>
                  <label class="error-message" *ngIf="registerForm.controls.userName.errors.checkUserName">User Name is already taken.</label>

                </div>
              </div>
              <div class="form-group">
                <label for="userName">Email</label>
                <input type="text" formControlName="email" class="form-control" name="email" placeholder="Enter Email" [ngClass]="{loading: (registerForm.controls.email.pending) }">
                <div *ngIf="registerForm.controls.email.invalid && (registerForm.controls.email.dirty || 
                registerForm.controls.email.touched)">
                  <label class="error-message" *ngIf="registerForm.controls.email.errors.required"> E-mail is required.</label>
                  <label class="error-message" *ngIf="registerForm.controls.email.errors.pattern"> E-mail is not valid.</label>
                  <label class="error-message" *ngIf="registerForm.controls.email.errors.maxlength"> E-mail can not be more than 30 characters long.</label>
                  <label class="error-message" *ngIf="registerForm.controls.email.errors.checkEmail"> E-mail is already taken.</label>
                </div>
              </div>
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" formControlName="password" class="form-control" name="password" placeholder="Enter Password">
                <div *ngIf="registerForm.controls.password.invalid && (registerForm.controls.password.dirty || 
                  registerForm.controls.password.touched)">
                  <label class="error-message" *ngIf="registerForm.controls.password.errors.required">Password is required.</label>
                  <label class="error-message" *ngIf="registerForm.controls.password.errors.minlength">Password must be at least 8 characters long.</label>
                  <label class="error-message" *ngIf="registerForm.controls.password.errors.maxlength">Password can not be more than 30 characters long.</label>
                  <label class="error-message" *ngIf="registerForm.controls.password.errors.pattern && (!registerForm.controls.password.errors.minlength && !registerForm.controls.password.errors.maxlength) ">
                    Password must contain a upper, lower, number and
                    <br />special characters.</label>
                </div>
              </div>
              <div class="form-group">
                <label for="c_password"> Confirm Password</label>
                <input type="password" class="form-control" formControlName="passwordConfirm" name="passwordConfirm" placeholder="Confirm Password">
                <div *ngIf="registerForm.controls.passwordConfirm.invalid && (registerForm.controls.passwordConfirm.dirty || registerForm.controls.passwordConfirm.touched)">
                  <label class="error-message" *ngIf="registerForm.controls.passwordConfirm.errors.required">Confirm Password is required.</label>
                  <label class="error-message" *ngIf="registerForm.controls.passwordConfirm.errors.passwordMisMatch && (!registerForm.controls.passwordConfirm.errors.required)">Passwords do not match.</label>
                </div>
              </div>
              <div class="form-group no-margin">
                <button type="submit" [disabled]='!registerForm.valid || isFormProcessing' class="btn btn-primary btn-block">
                  Register
                </button>
              </div>
              <div class="margin-top20 text-center">
                Already have an account?
                <a routerLink="/login">Login</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
